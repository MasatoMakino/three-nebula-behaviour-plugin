(()=>{"use strict";var __webpack_modules__={690:(__unused_webpack_module,__unused_webpack___webpack_exports__,__webpack_require__)=>{eval('\n// EXTERNAL MODULE: ./node_modules/three/build/three.module.js\nvar three_module = __webpack_require__(75);\n// EXTERNAL MODULE: ./node_modules/three/examples/jsm/controls/OrbitControls.js\nvar OrbitControls = __webpack_require__(12);\n;// CONCATENATED MODULE: ./demoSrc/Common.js\n\n\nclass Common {\n  static initScene() {\n    const scene = new three_module.Scene();\n    return scene;\n  }\n  static initLight(scene) {\n    const ambientLight = new three_module.AmbientLight(0xffffff, 1.0);\n    scene.add(ambientLight);\n    return ambientLight;\n  }\n  static initCamera(scene, W, H, near = 1, far = 400) {\n    const camera = new three_module.PerspectiveCamera(45, W / H, near, far);\n    camera.position.set(0, 0, 100);\n    camera.updateMatrixWorld(false);\n    scene.add(camera);\n    return camera;\n  }\n  static initControl(camera, render) {\n    let domElement;\n    if (render) {\n      domElement = render.domElement;\n    }\n    const control = new OrbitControls/* OrbitControls */.z(camera, domElement);\n    control.update();\n    return control;\n  }\n  static initRenderer(W, H, option) {\n    option = Object.assign({\n      color: 0x000000,\n      id: "webgl-canvas",\n      antialias: true\n    }, option);\n    const renderer = new three_module.WebGLRenderer({\n      canvas: document.getElementById(option.id),\n      antialias: option.antialias\n    });\n    renderer.setClearColor(new three_module.Color(option.color));\n    renderer.setSize(W, H);\n    renderer.setPixelRatio(window.devicePixelRatio);\n    return renderer;\n  }\n  static initHelper(scene) {\n    const axesHelper = new three_module.AxesHelper(30);\n    scene.add(axesHelper);\n  }\n  static render(control, renderer, scene, camera, onBeforeRender) {\n    const rendering = () => {\n      if (onBeforeRender) {\n        onBeforeRender();\n      }\n      control.update();\n      renderer.render(scene, camera);\n      requestAnimationFrame(rendering);\n    };\n    rendering();\n  }\n}\n// EXTERNAL MODULE: ./node_modules/three-nebula/build/esm/index.js + 107 modules\nvar esm = __webpack_require__(335);\n;// CONCATENATED MODULE: ./esm/ColorCanvas.js\nclass ColorCanvas {\n  static getColor(colorCanvas, energy) {\n    const canvas = colorCanvas.canvas;\n    const buffer = colorCanvas.buffer;\n    // @ts-ignore\n    const x = Math.floor(canvas.width * (1.0 - energy));\n    const index = x * 4;\n    return [buffer[index] / 255, buffer[index + 1] / 255, buffer[index + 2] / 255, buffer[index + 3] / 255];\n  }\n  static updateParticleColor(particle, colorCanvas, energy) {\n    const val = this.getColor(colorCanvas, energy);\n    particle.color.r = val[0];\n    particle.color.g = val[1];\n    particle.color.b = val[2];\n    particle.alpha = val[3];\n  }\n}\n;// CONCATENATED MODULE: ./esm/ImageColor.js\n\n\nclass ImageColor extends esm/* Behaviour */.Ty {\n  constructor(url, life, easing, isEnabled = true) {\n    super(life, easing, ImageColor.TYPE, isEnabled);\n    this.reset(url);\n  }\n  reset(url, life, easing) {\n    this.initCanvas(url);\n    life && super.reset(life, easing);\n  }\n  initCanvas(url) {\n    this.colorCanvas = {\n      canvas: document.createElement("canvas"),\n      isLoaded: false\n    };\n    const canvas = this.colorCanvas.canvas;\n    canvas.width = 256;\n    canvas.height = 1;\n    const g = canvas.getContext("2d");\n    const img = new Image();\n    img.onload = () => {\n      this.colorCanvas.isLoaded = true;\n      g.drawImage(img, 0, 0, canvas.width, canvas.height);\n      this.colorCanvas.buffer = g.getImageData(0, 0, canvas.width, canvas.height).data;\n    };\n    img.src = url;\n  }\n  initialize(particle) {\n    //TODO : PR particle.transform type is Object.\n    particle.transform.colorCanvas = this.colorCanvas;\n    particle.useColor = true;\n    particle.useAlpha = true;\n  }\n  mutate(particle, time, index) {\n    //TODO : color.mutate.energize has not index prop.\n    // @ts-ignore\n    this.energize(particle, time);\n    if (particle.transform.colorCanvas.isLoaded) {\n      ColorCanvas.updateParticleColor(particle, particle.transform.colorCanvas,\n      // @ts-ignore\n      this.energy);\n    } else {\n      particle.color.r = 0;\n      particle.color.g = 0;\n      particle.color.b = 0;\n      particle.alpha = 0.0;\n    }\n  }\n}\nImageColor.TYPE = "ImageColor";\n;// CONCATENATED MODULE: ./esm/GradientColor.js\n\n\nclass GradientColor extends esm/* Behaviour */.Ty {\n  constructor(colors, life, easing, isEnabled = true) {\n    super(life, easing, GradientColor.TYPE, isEnabled);\n    this.reset(colors);\n  }\n  reset(colors, life, easing) {\n    this.initCanvas(colors);\n    life && super.reset(life, easing);\n  }\n  initCanvas(colors) {\n    this.gradientCanvas = {\n      canvas: document.createElement("canvas")\n    };\n    const canvas = this.gradientCanvas.canvas;\n    canvas.width = 256;\n    canvas.height = 1;\n    const g = canvas.getContext("2d");\n    const gradient = g.createLinearGradient(0, canvas.height, canvas.width, canvas.height);\n    colors.forEach(color => {\n      gradient.addColorStop(color.offset, color.color);\n    });\n    g.fillStyle = gradient;\n    g.fillRect(0, 0, canvas.width, canvas.height);\n    this.gradientCanvas.buffer = g.getImageData(0, 0, canvas.width, canvas.height).data;\n  }\n  initialize(particle) {\n    particle.transform.gradientCanvas = this.gradientCanvas;\n    particle.useColor = true;\n    particle.useAlpha = true;\n  }\n  mutate(particle, time, index) {\n    // @ts-ignore\n    this.energize(particle, time);\n    ColorCanvas.updateParticleColor(particle, particle.transform.gradientCanvas,\n    // @ts-ignore\n    this.energy);\n  }\n}\nGradientColor.TYPE = "GradientColor";\n;// CONCATENATED MODULE: ./esm/index.js\n\n\n\n;// CONCATENATED MODULE: ./demoSrc/demoImageColor.js\n\n\n\n\nclass Study {\n  constructor() {\n    const W = 640;\n    const H = 480;\n    const scene = Common.initScene();\n    // scene.fog = new Fog(0xffffff, 80, 160);\n    Common.initLight(scene);\n    const camera = Common.initCamera(scene, W, H);\n    const renderer = Common.initRenderer(W, H, {\n      color: 0x444444\n    });\n    const control = Common.initControl(camera, renderer);\n    Common.initHelper(scene);\n    this.initObject(scene);\n    Common.render(control, renderer, scene, camera, () => {\n      if (this.system) {\n        this.system.update();\n      }\n    });\n  }\n  initObject(scene) {\n    this.system = new esm/* System */.xP();\n    this.emitter = new esm/* Emitter */.Q5();\n    const renderer = new esm/* SpriteRenderer */.Tz(scene, three_module);\n    const imageColor = new ImageColor("./img/hue_val.png");\n    document.body.appendChild(imageColor.colorCanvas.canvas);\n    this.range = new esm/* RadialVelocity */.aZ(45, new esm/* Vector3D */.EW(0, 1, 0), 180);\n    this.radius = new esm/* Radius */.wU(6, 12);\n    this.life = new esm/* Life */.Vk(6);\n    this.emitter.setRate(new esm/* Rate */.j8(new esm/* Span */.Dr(4, 16), 0.1)).setInitializers([new esm/* Position */.Ly(new esm/* PointZone */.JU(0, 0)), new esm/* Mass */.HZ(1), this.radius, this.life, this.range]).setBehaviours([imageColor]).emit();\n    this.system.addEmitter(this.emitter).addRenderer(renderer);\n  }\n}\nwindow.onload = () => {\n  const study = new Study();\n};//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,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LEdBQUcsSUFBSWQsMEJBQWMsQ0FBQyxFQUFFLEVBQUUsSUFBSU0sb0JBQVEsQ0FBQyxDQUFDLEVBQUUsQ0FBQyxFQUFFLENBQUMsQ0FBQyxFQUFFLEdBQUcsQ0FBQztJQUMvRCxJQUFJLENBQUNTLE1BQU0sR0FBRyxJQUFJZCxrQkFBTSxDQUFDLENBQUMsRUFBRSxFQUFFLENBQUM7SUFDL0IsSUFBSSxDQUFDekMsSUFBSSxHQUFHLElBQUlvQyxnQkFBSSxDQUFDLENBQUMsQ0FBQztJQUV2QixJQUFJLENBQUNjLE9BQU8sQ0FDVE0sT0FBTyxDQUFDLElBQUlkLGdCQUFJLENBQUMsSUFBSUMsZ0JBQUksQ0FBQyxDQUFDLEVBQUUsRUFBRSxDQUFDLEVBQUUsR0FBRyxDQUFDLENBQUMsQ0FDdkNjLGVBQWUsQ0FBQyxDQUNmLElBQUlsQixvQkFBUSxDQUFDLElBQUlELHFCQUFTLENBQUMsQ0FBQyxFQUFFLENBQUMsQ0FBQyxDQUFDLEVBQ2pDLElBQUlELGdCQUFJLENBQUMsQ0FBQyxDQUFDLEVBQ1gsSUFBSSxDQUFDa0IsTUFBTSxFQUNYLElBQUksQ0FBQ3ZELElBQUksRUFDVCxJQUFJLENBQUNzRCxLQUFLLENBQ1gsQ0FBQyxDQUNESSxhQUFhLENBQUMsQ0FBQ1AsVUFBVSxDQUFDLENBQUMsQ0FDM0JRLElBQUksQ0FBQyxDQUFDO0lBRVQsSUFBSSxDQUFDVixNQUFNLENBQUNXLFVBQVUsQ0FBQyxJQUFJLENBQUNWLE9BQU8sQ0FBQyxDQUFDVyxXQUFXLENBQUNoRyxRQUFRLENBQUM7RUFDNUQ7QUFDRjtBQUVBTyxNQUFNLENBQUN3QyxNQUFNLEdBQUcsTUFBTTtFQUNwQixNQUFNa0QsS0FBSyxHQUFHLElBQUlmLEtBQUssQ0FBQyxDQUFDO0FBQzNCLENBQUMiLCJzb3VyY2VzIjpbIndlYnBhY2s6Ly90aHJlZS1uZWJ1bGEtYmVoYXZpb3VyLXBsdWdpbi8uL2RlbW9TcmMvQ29tbW9uLmpzPzJjMDciLCJ3ZWJwYWNrOi8vdGhyZWUtbmVidWxhLWJlaGF2aW91ci1wbHVnaW4vLi9lc20vQ29sb3JDYW52YXMuanM/Njg5NSIsIndlYnBhY2s6Ly90aHJlZS1uZWJ1bGEtYmVoYXZpb3VyLXBsdWdpbi8uL2VzbS9JbWFnZUNvbG9yLmpzP2E5OWYiLCJ3ZWJwYWNrOi8vdGhyZWUtbmVidWxhLWJlaGF2aW91ci1wbHVnaW4vLi9lc20vR3JhZGllbnRDb2xvci5qcz9iYzJiIiwid2VicGFjazovL3RocmVlLW5lYnVsYS1iZWhhdmlvdXItcGx1Z2luLy4vZXNtL2luZGV4LmpzP2IyMzkiLCJ3ZWJwYWNrOi8vdGhyZWUtbmVidWxhLWJlaGF2aW91ci1wbHVnaW4vLi9kZW1vU3JjL2RlbW9JbWFnZUNvbG9yLmpzPzIzY2UiXSwic291cmNlc0NvbnRlbnQiOlsiaW1wb3J0IHtcbiAgQW1iaWVudExpZ2h0LFxuICBBeGVzSGVscGVyLFxuICBDb2xvcixcbiAgUGVyc3BlY3RpdmVDYW1lcmEsXG4gIFNjZW5lLFxuICBXZWJHTFJlbmRlcmVyXG59IGZyb20gXCJ0aHJlZVwiO1xuaW1wb3J0IHsgT3JiaXRDb250cm9scyB9IGZyb20gXCJ0aHJlZS9leGFtcGxlcy9qc20vY29udHJvbHMvT3JiaXRDb250cm9sc1wiO1xuXG5leHBvcnQgY2xhc3MgQ29tbW9uIHtcbiAgc3RhdGljIGluaXRTY2VuZSgpIHtcbiAgICBjb25zdCBzY2VuZSA9IG5ldyBTY2VuZSgpO1xuICAgIHJldHVybiBzY2VuZTtcbiAgfVxuXG4gIHN0YXRpYyBpbml0TGlnaHQoc2NlbmUpIHtcbiAgICBjb25zdCBhbWJpZW50TGlnaHQgPSBuZXcgQW1iaWVudExpZ2h0KDB4ZmZmZmZmLCAxLjApO1xuICAgIHNjZW5lLmFkZChhbWJpZW50TGlnaHQpO1xuICAgIHJldHVybiBhbWJpZW50TGlnaHQ7XG4gIH1cblxuICBzdGF0aWMgaW5pdENhbWVyYShzY2VuZSwgVywgSCwgbmVhciA9IDEsIGZhciA9IDQwMCkge1xuICAgIGNvbnN0IGNhbWVyYSA9IG5ldyBQZXJzcGVjdGl2ZUNhbWVyYSg0NSwgVyAvIEgsIG5lYXIsIGZhcik7XG4gICAgY2FtZXJhLnBvc2l0aW9uLnNldCgwLCAwLCAxMDApO1xuICAgIGNhbWVyYS51cGRhdGVNYXRyaXhXb3JsZChmYWxzZSk7XG4gICAgc2NlbmUuYWRkKGNhbWVyYSk7XG4gICAgcmV0dXJuIGNhbWVyYTtcbiAgfVxuXG4gIHN0YXRpYyBpbml0Q29udHJvbChjYW1lcmEsIHJlbmRlcikge1xuICAgIGxldCBkb21FbGVtZW50O1xuICAgIGlmIChyZW5kZXIpIHtcbiAgICAgIGRvbUVsZW1lbnQgPSByZW5kZXIuZG9tRWxlbWVudDtcbiAgICB9XG4gICAgY29uc3QgY29udHJvbCA9IG5ldyBPcmJpdENvbnRyb2xzKGNhbWVyYSwgZG9tRWxlbWVudCk7XG4gICAgY29udHJvbC51cGRhdGUoKTtcbiAgICByZXR1cm4gY29udHJvbDtcbiAgfVxuXG4gIHN0YXRpYyBpbml0UmVuZGVyZXIoVywgSCwgb3B0aW9uKSB7XG4gICAgb3B0aW9uID0gT2JqZWN0LmFzc2lnbihcbiAgICAgIHtcbiAgICAgICAgY29sb3I6IDB4MDAwMDAwLFxuICAgICAgICBpZDogXCJ3ZWJnbC1jYW52YXNcIixcbiAgICAgICAgYW50aWFsaWFzOiB0cnVlXG4gICAgICB9LFxuICAgICAgb3B0aW9uXG4gICAgKTtcbiAgICBjb25zdCByZW5kZXJlciA9IG5ldyBXZWJHTFJlbmRlcmVyKHtcbiAgICAgIGNhbnZhczogZG9jdW1lbnQuZ2V0RWxlbWVudEJ5SWQob3B0aW9uLmlkKSxcbiAgICAgIGFudGlhbGlhczogb3B0aW9uLmFudGlhbGlhc1xuICAgIH0pO1xuICAgIHJlbmRlcmVyLnNldENsZWFyQ29sb3IobmV3IENvbG9yKG9wdGlvbi5jb2xvcikpO1xuICAgIHJlbmRlcmVyLnNldFNpemUoVywgSCk7XG4gICAgcmVuZGVyZXIuc2V0UGl4ZWxSYXRpbyh3aW5kb3cuZGV2aWNlUGl4ZWxSYXRpbyk7XG4gICAgcmV0dXJuIHJlbmRlcmVyO1xuICB9XG5cbiAgc3RhdGljIGluaXRIZWxwZXIoc2NlbmUpIHtcbiAgICBjb25zdCBheGVzSGVscGVyID0gbmV3IEF4ZXNIZWxwZXIoMzApO1xuICAgIHNjZW5lLmFkZChheGVzSGVscGVyKTtcbiAgfVxuXG4gIHN0YXRpYyByZW5kZXIoY29udHJvbCwgcmVuZGVyZXIsIHNjZW5lLCBjYW1lcmEsIG9uQmVmb3JlUmVuZGVyKSB7XG4gICAgY29uc3QgcmVuZGVyaW5nID0gKCkgPT4ge1xuICAgICAgaWYgKG9uQmVmb3JlUmVuZGVyKSB7XG4gICAgICAgIG9uQmVmb3JlUmVuZGVyKCk7XG4gICAgICB9XG4gICAgICBjb250cm9sLnVwZGF0ZSgpO1xuICAgICAgcmVuZGVyZXIucmVuZGVyKHNjZW5lLCBjYW1lcmEpO1xuICAgICAgcmVxdWVzdEFuaW1hdGlvbkZyYW1lKHJlbmRlcmluZyk7XG4gICAgfTtcbiAgICByZW5kZXJpbmcoKTtcbiAgfVxufVxuIiwiZXhwb3J0IGNsYXNzIENvbG9yQ2FudmFzIHtcbiAgICBzdGF0aWMgZ2V0Q29sb3IoY29sb3JDYW52YXMsIGVuZXJneSkge1xuICAgICAgICBjb25zdCBjYW52YXMgPSBjb2xvckNhbnZhcy5jYW52YXM7XG4gICAgICAgIGNvbnN0IGJ1ZmZlciA9IGNvbG9yQ2FudmFzLmJ1ZmZlcjtcbiAgICAgICAgLy8gQHRzLWlnbm9yZVxuICAgICAgICBjb25zdCB4ID0gTWF0aC5mbG9vcihjYW52YXMud2lkdGggKiAoMS4wIC0gZW5lcmd5KSk7XG4gICAgICAgIGNvbnN0IGluZGV4ID0geCAqIDQ7XG4gICAgICAgIHJldHVybiBbXG4gICAgICAgICAgICBidWZmZXJbaW5kZXhdIC8gMjU1LFxuICAgICAgICAgICAgYnVmZmVyW2luZGV4ICsgMV0gLyAyNTUsXG4gICAgICAgICAgICBidWZmZXJbaW5kZXggKyAyXSAvIDI1NSxcbiAgICAgICAgICAgIGJ1ZmZlcltpbmRleCArIDNdIC8gMjU1XG4gICAgICAgIF07XG4gICAgfVxuICAgIHN0YXRpYyB1cGRhdGVQYXJ0aWNsZUNvbG9yKHBhcnRpY2xlLCBjb2xvckNhbnZhcywgZW5lcmd5KSB7XG4gICAgICAgIGNvbnN0IHZhbCA9IHRoaXMuZ2V0Q29sb3IoY29sb3JDYW52YXMsIGVuZXJneSk7XG4gICAgICAgIHBhcnRpY2xlLmNvbG9yLnIgPSB2YWxbMF07XG4gICAgICAgIHBhcnRpY2xlLmNvbG9yLmcgPSB2YWxbMV07XG4gICAgICAgIHBhcnRpY2xlLmNvbG9yLmIgPSB2YWxbMl07XG4gICAgICAgIHBhcnRpY2xlLmFscGhhID0gdmFsWzNdO1xuICAgIH1cbn1cbiIsImltcG9ydCB7IEJlaGF2aW91ciB9IGZyb20gXCJ0aHJlZS1uZWJ1bGFcIjtcbmltcG9ydCB7IENvbG9yQ2FudmFzIH0gZnJvbSBcIi4vQ29sb3JDYW52YXNcIjtcbmV4cG9ydCBjbGFzcyBJbWFnZUNvbG9yIGV4dGVuZHMgQmVoYXZpb3VyIHtcbiAgICBjb25zdHJ1Y3Rvcih1cmwsIGxpZmUsIGVhc2luZywgaXNFbmFibGVkID0gdHJ1ZSkge1xuICAgICAgICBzdXBlcihsaWZlLCBlYXNpbmcsIEltYWdlQ29sb3IuVFlQRSwgaXNFbmFibGVkKTtcbiAgICAgICAgdGhpcy5yZXNldCh1cmwpO1xuICAgIH1cbiAgICByZXNldCh1cmwsIGxpZmUsIGVhc2luZykge1xuICAgICAgICB0aGlzLmluaXRDYW52YXModXJsKTtcbiAgICAgICAgbGlmZSAmJiBzdXBlci5yZXNldChsaWZlLCBlYXNpbmcpO1xuICAgIH1cbiAgICBpbml0Q2FudmFzKHVybCkge1xuICAgICAgICB0aGlzLmNvbG9yQ2FudmFzID0ge1xuICAgICAgICAgICAgY2FudmFzOiBkb2N1bWVudC5jcmVhdGVFbGVtZW50KFwiY2FudmFzXCIpLFxuICAgICAgICAgICAgaXNMb2FkZWQ6IGZhbHNlLFxuICAgICAgICB9O1xuICAgICAgICBjb25zdCBjYW52YXMgPSB0aGlzLmNvbG9yQ2FudmFzLmNhbnZhcztcbiAgICAgICAgY2FudmFzLndpZHRoID0gMjU2O1xuICAgICAgICBjYW52YXMuaGVpZ2h0ID0gMTtcbiAgICAgICAgY29uc3QgZyA9IGNhbnZhcy5nZXRDb250ZXh0KFwiMmRcIik7XG4gICAgICAgIGNvbnN0IGltZyA9IG5ldyBJbWFnZSgpO1xuICAgICAgICBpbWcub25sb2FkID0gKCkgPT4ge1xuICAgICAgICAgICAgdGhpcy5jb2xvckNhbnZhcy5pc0xvYWRlZCA9IHRydWU7XG4gICAgICAgICAgICBnLmRyYXdJbWFnZShpbWcsIDAsIDAsIGNhbnZhcy53aWR0aCwgY2FudmFzLmhlaWdodCk7XG4gICAgICAgICAgICB0aGlzLmNvbG9yQ2FudmFzLmJ1ZmZlciA9IGcuZ2V0SW1hZ2VEYXRhKDAsIDAsIGNhbnZhcy53aWR0aCwgY2FudmFzLmhlaWdodCkuZGF0YTtcbiAgICAgICAgfTtcbiAgICAgICAgaW1nLnNyYyA9IHVybDtcbiAgICB9XG4gICAgaW5pdGlhbGl6ZShwYXJ0aWNsZSkge1xuICAgICAgICAvL1RPRE8gOiBQUiBwYXJ0aWNsZS50cmFuc2Zvcm0gdHlwZSBpcyBPYmplY3QuXG4gICAgICAgIHBhcnRpY2xlLnRyYW5zZm9ybS5jb2xvckNhbnZhcyA9IHRoaXMuY29sb3JDYW52YXM7XG4gICAgICAgIHBhcnRpY2xlLnVzZUNvbG9yID0gdHJ1ZTtcbiAgICAgICAgcGFydGljbGUudXNlQWxwaGEgPSB0cnVlO1xuICAgIH1cbiAgICBtdXRhdGUocGFydGljbGUsIHRpbWUsIGluZGV4KSB7XG4gICAgICAgIC8vVE9ETyA6IGNvbG9yLm11dGF0ZS5lbmVyZ2l6ZSBoYXMgbm90IGluZGV4IHByb3AuXG4gICAgICAgIC8vIEB0cy1pZ25vcmVcbiAgICAgICAgdGhpcy5lbmVyZ2l6ZShwYXJ0aWNsZSwgdGltZSk7XG4gICAgICAgIGlmIChwYXJ0aWNsZS50cmFuc2Zvcm0uY29sb3JDYW52YXMuaXNMb2FkZWQpIHtcbiAgICAgICAgICAgIENvbG9yQ2FudmFzLnVwZGF0ZVBhcnRpY2xlQ29sb3IocGFydGljbGUsIHBhcnRpY2xlLnRyYW5zZm9ybS5jb2xvckNhbnZhcywgXG4gICAgICAgICAgICAvLyBAdHMtaWdub3JlXG4gICAgICAgICAgICB0aGlzLmVuZXJneSk7XG4gICAgICAgIH1cbiAgICAgICAgZWxzZSB7XG4gICAgICAgICAgICBwYXJ0aWNsZS5jb2xvci5yID0gMDtcbiAgICAgICAgICAgIHBhcnRpY2xlLmNvbG9yLmcgPSAwO1xuICAgICAgICAgICAgcGFydGljbGUuY29sb3IuYiA9IDA7XG4gICAgICAgICAgICBwYXJ0aWNsZS5hbHBoYSA9IDAuMDtcbiAgICAgICAgfVxuICAgIH1cbn1cbkltYWdlQ29sb3IuVFlQRSA9IFwiSW1hZ2VDb2xvclwiO1xuIiwiaW1wb3J0IHsgQmVoYXZpb3VyIH0gZnJvbSBcInRocmVlLW5lYnVsYVwiO1xuaW1wb3J0IHsgQ29sb3JDYW52YXMgfSBmcm9tIFwiLi9Db2xvckNhbnZhc1wiO1xuZXhwb3J0IGNsYXNzIEdyYWRpZW50Q29sb3IgZXh0ZW5kcyBCZWhhdmlvdXIge1xuICAgIGNvbnN0cnVjdG9yKGNvbG9ycywgbGlmZSwgZWFzaW5nLCBpc0VuYWJsZWQgPSB0cnVlKSB7XG4gICAgICAgIHN1cGVyKGxpZmUsIGVhc2luZywgR3JhZGllbnRDb2xvci5UWVBFLCBpc0VuYWJsZWQpO1xuICAgICAgICB0aGlzLnJlc2V0KGNvbG9ycyk7XG4gICAgfVxuICAgIHJlc2V0KGNvbG9ycywgbGlmZSwgZWFzaW5nKSB7XG4gICAgICAgIHRoaXMuaW5pdENhbnZhcyhjb2xvcnMpO1xuICAgICAgICBsaWZlICYmIHN1cGVyLnJlc2V0KGxpZmUsIGVhc2luZyk7XG4gICAgfVxuICAgIGluaXRDYW52YXMoY29sb3JzKSB7XG4gICAgICAgIHRoaXMuZ3JhZGllbnRDYW52YXMgPSB7XG4gICAgICAgICAgICBjYW52YXM6IGRvY3VtZW50LmNyZWF0ZUVsZW1lbnQoXCJjYW52YXNcIiksXG4gICAgICAgIH07XG4gICAgICAgIGNvbnN0IGNhbnZhcyA9IHRoaXMuZ3JhZGllbnRDYW52YXMuY2FudmFzO1xuICAgICAgICBjYW52YXMud2lkdGggPSAyNTY7XG4gICAgICAgIGNhbnZhcy5oZWlnaHQgPSAxO1xuICAgICAgICBjb25zdCBnID0gY2FudmFzLmdldENvbnRleHQoXCIyZFwiKTtcbiAgICAgICAgY29uc3QgZ3JhZGllbnQgPSBnLmNyZWF0ZUxpbmVhckdyYWRpZW50KDAsIGNhbnZhcy5oZWlnaHQsIGNhbnZhcy53aWR0aCwgY2FudmFzLmhlaWdodCk7XG4gICAgICAgIGNvbG9ycy5mb3JFYWNoKChjb2xvcikgPT4ge1xuICAgICAgICAgICAgZ3JhZGllbnQuYWRkQ29sb3JTdG9wKGNvbG9yLm9mZnNldCwgY29sb3IuY29sb3IpO1xuICAgICAgICB9KTtcbiAgICAgICAgZy5maWxsU3R5bGUgPSBncmFkaWVudDtcbiAgICAgICAgZy5maWxsUmVjdCgwLCAwLCBjYW52YXMud2lkdGgsIGNhbnZhcy5oZWlnaHQpO1xuICAgICAgICB0aGlzLmdyYWRpZW50Q2FudmFzLmJ1ZmZlciA9IGcuZ2V0SW1hZ2VEYXRhKDAsIDAsIGNhbnZhcy53aWR0aCwgY2FudmFzLmhlaWdodCkuZGF0YTtcbiAgICB9XG4gICAgaW5pdGlhbGl6ZShwYXJ0aWNsZSkge1xuICAgICAgICBwYXJ0aWNsZS50cmFuc2Zvcm0uZ3JhZGllbnRDYW52YXMgPSB0aGlzLmdyYWRpZW50Q2FudmFzO1xuICAgICAgICBwYXJ0aWNsZS51c2VDb2xvciA9IHRydWU7XG4gICAgICAgIHBhcnRpY2xlLnVzZUFscGhhID0gdHJ1ZTtcbiAgICB9XG4gICAgbXV0YXRlKHBhcnRpY2xlLCB0aW1lLCBpbmRleCkge1xuICAgICAgICAvLyBAdHMtaWdub3JlXG4gICAgICAgIHRoaXMuZW5lcmdpemUocGFydGljbGUsIHRpbWUpO1xuICAgICAgICBDb2xvckNhbnZhcy51cGRhdGVQYXJ0aWNsZUNvbG9yKHBhcnRpY2xlLCBwYXJ0aWNsZS50cmFuc2Zvcm0uZ3JhZGllbnRDYW52YXMsIFxuICAgICAgICAvLyBAdHMtaWdub3JlXG4gICAgICAgIHRoaXMuZW5lcmd5KTtcbiAgICB9XG59XG5HcmFkaWVudENvbG9yLlRZUEUgPSBcIkdyYWRpZW50Q29sb3JcIjtcbiIsImV4cG9ydCAqIGZyb20gXCIuL0ltYWdlQ29sb3JcIjtcbmV4cG9ydCAqIGZyb20gXCIuL0dyYWRpZW50Q29sb3JcIjtcbmV4cG9ydCAqIGZyb20gXCIuL0NvbG9yQ2FudmFzXCI7XG4iLCJpbXBvcnQgeyBDb21tb24gfSBmcm9tIFwiLi9Db21tb25cIjtcbmltcG9ydCB7IEltYWdlQ29sb3IgfSBmcm9tIFwiLi4vZXNtXCI7XG5pbXBvcnQgKiBhcyBUSFJFRSBmcm9tIFwidGhyZWVcIjtcbmltcG9ydCB7XG4gIEVtaXR0ZXIsXG4gIExpZmUsXG4gIE1hc3MsXG4gIFBvaW50Wm9uZSxcbiAgUG9zaXRpb24sXG4gIFJhZGlhbFZlbG9jaXR5LFxuICBSYWRpdXMsXG4gIFJhdGUsXG4gIFNwYW4sXG4gIFNwcml0ZVJlbmRlcmVyLFxuICBTeXN0ZW0sXG4gIFZlY3RvcjNEXG59IGZyb20gXCJ0aHJlZS1uZWJ1bGFcIjtcblxuY2xhc3MgU3R1ZHkge1xuICBjb25zdHJ1Y3RvcigpIHtcbiAgICBjb25zdCBXID0gNjQwO1xuICAgIGNvbnN0IEggPSA0ODA7XG5cbiAgICBjb25zdCBzY2VuZSA9IENvbW1vbi5pbml0U2NlbmUoKTtcbiAgICAvLyBzY2VuZS5mb2cgPSBuZXcgRm9nKDB4ZmZmZmZmLCA4MCwgMTYwKTtcbiAgICBDb21tb24uaW5pdExpZ2h0KHNjZW5lKTtcbiAgICBjb25zdCBjYW1lcmEgPSBDb21tb24uaW5pdENhbWVyYShzY2VuZSwgVywgSCk7XG4gICAgY29uc3QgcmVuZGVyZXIgPSBDb21tb24uaW5pdFJlbmRlcmVyKFcsIEgsIHsgY29sb3I6IDB4NDQ0NDQ0IH0pO1xuICAgIGNvbnN0IGNvbnRyb2wgPSBDb21tb24uaW5pdENvbnRyb2woY2FtZXJhLCByZW5kZXJlcik7XG4gICAgQ29tbW9uLmluaXRIZWxwZXIoc2NlbmUpO1xuICAgIHRoaXMuaW5pdE9iamVjdChzY2VuZSk7XG5cbiAgICBDb21tb24ucmVuZGVyKGNvbnRyb2wsIHJlbmRlcmVyLCBzY2VuZSwgY2FtZXJhLCAoKSA9PiB7XG4gICAgICBpZiAodGhpcy5zeXN0ZW0pIHtcbiAgICAgICAgdGhpcy5zeXN0ZW0udXBkYXRlKCk7XG4gICAgICB9XG4gICAgfSk7XG4gIH1cblxuICBpbml0T2JqZWN0KHNjZW5lKSB7XG4gICAgdGhpcy5zeXN0ZW0gPSBuZXcgU3lzdGVtKCk7XG4gICAgdGhpcy5lbWl0dGVyID0gbmV3IEVtaXR0ZXIoKTtcbiAgICBjb25zdCByZW5kZXJlciA9IG5ldyBTcHJpdGVSZW5kZXJlcihzY2VuZSwgVEhSRUUpO1xuXG4gICAgY29uc3QgaW1hZ2VDb2xvciA9IG5ldyBJbWFnZUNvbG9yKFwiLi9pbWcvaHVlX3ZhbC5wbmdcIik7XG4gICAgZG9jdW1lbnQuYm9keS5hcHBlbmRDaGlsZChpbWFnZUNvbG9yLmNvbG9yQ2FudmFzLmNhbnZhcyk7XG5cbiAgICB0aGlzLnJhbmdlID0gbmV3IFJhZGlhbFZlbG9jaXR5KDQ1LCBuZXcgVmVjdG9yM0QoMCwgMSwgMCksIDE4MCk7XG4gICAgdGhpcy5yYWRpdXMgPSBuZXcgUmFkaXVzKDYsIDEyKTtcbiAgICB0aGlzLmxpZmUgPSBuZXcgTGlmZSg2KTtcblxuICAgIHRoaXMuZW1pdHRlclxuICAgICAgLnNldFJhdGUobmV3IFJhdGUobmV3IFNwYW4oNCwgMTYpLCAwLjEpKVxuICAgICAgLnNldEluaXRpYWxpemVycyhbXG4gICAgICAgIG5ldyBQb3NpdGlvbihuZXcgUG9pbnRab25lKDAsIDApKSxcbiAgICAgICAgbmV3IE1hc3MoMSksXG4gICAgICAgIHRoaXMucmFkaXVzLFxuICAgICAgICB0aGlzLmxpZmUsXG4gICAgICAgIHRoaXMucmFuZ2VcbiAgICAgIF0pXG4gICAgICAuc2V0QmVoYXZpb3VycyhbaW1hZ2VDb2xvcl0pXG4gICAgICAuZW1pdCgpO1xuXG4gICAgdGhpcy5zeXN0ZW0uYWRkRW1pdHRlcih0aGlzLmVtaXR0ZXIpLmFkZFJlbmRlcmVyKHJlbmRlcmVyKTtcbiAgfVxufVxuXG53aW5kb3cub25sb2FkID0gKCkgPT4ge1xuICBjb25zdCBzdHVkeSA9IG5ldyBTdHVkeSgpO1xufTtcbiJdLCJuYW1lcyI6WyJBbWJpZW50TGlnaHQiLCJBeGVzSGVscGVyIiwiQ29sb3IiLCJQZXJzcGVjdGl2ZUNhbWVyYSIsIlNjZW5lIiwiV2ViR0xSZW5kZXJlciIsIk9yYml0Q29udHJvbHMiLCJDb21tb24iLCJpbml0U2NlbmUiLCJzY2VuZSIsImluaXRMaWdodCIsImFtYmllbnRMaWdodCIsImFkZCIsImluaXRDYW1lcmEiLCJXIiwiSCIsIm5lYXIiLCJmYXIiLCJjYW1lcmEiLCJwb3NpdGlvbiIsInNldCIsInVwZGF0ZU1hdHJpeFdvcmxkIiwiaW5pdENvbnRyb2wiLCJyZW5kZXIiLCJkb21FbGVtZW50IiwiY29udHJvbCIsInVwZGF0ZSIsImluaXRSZW5kZXJlciIsIm9wdGlvbiIsIk9iamVjdCIsImFzc2lnbiIsImNvbG9yIiwiaWQiLCJhbnRpYWxpYXMiLCJyZW5kZXJlciIsImNhbnZhcyIsImRvY3VtZW50IiwiZ2V0RWxlbWVudEJ5SWQiLCJzZXRDbGVhckNvbG9yIiwic2V0U2l6ZSIsInNldFBpeGVsUmF0aW8iLCJ3aW5kb3ciLCJkZXZpY2VQaXhlbFJhdGlvIiwiaW5pdEhlbHBlciIsImF4ZXNIZWxwZXIiLCJvbkJlZm9yZVJlbmRlciIsInJlbmRlcmluZyIsInJlcXVlc3RBbmltYXRpb25GcmFtZSIsIkNvbG9yQ2FudmFzIiwiZ2V0Q29sb3IiLCJjb2xvckNhbnZhcyIsImVuZXJneSIsImJ1ZmZlciIsIngiLCJNYXRoIiwiZmxvb3IiLCJ3aWR0aCIsImluZGV4IiwidXBkYXRlUGFydGljbGVDb2xvciIsInBhcnRpY2xlIiwidmFsIiwiciIsImciLCJiIiwiYWxwaGEiLCJCZWhhdmlvdXIiLCJJbWFnZUNvbG9yIiwiY29uc3RydWN0b3IiLCJ1cmwiLCJsaWZlIiwiZWFzaW5nIiwiaXNFbmFibGVkIiwiVFlQRSIsInJlc2V0IiwiaW5pdENhbnZhcyIsImNyZWF0ZUVsZW1lbnQiLCJpc0xvYWRlZCIsImhlaWdodCIsImdldENvbnRleHQiLCJpbWciLCJJbWFnZSIsIm9ubG9hZCIsImRyYXdJbWFnZSIsImdldEltYWdlRGF0YSIsImRhdGEiLCJzcmMiLCJpbml0aWFsaXplIiwidHJhbnNmb3JtIiwidXNlQ29sb3IiLCJ1c2VBbHBoYSIsIm11dGF0ZSIsInRpbWUiLCJlbmVyZ2l6ZSIsIkdyYWRpZW50Q29sb3IiLCJjb2xvcnMiLCJncmFkaWVudENhbnZhcyIsImdyYWRpZW50IiwiY3JlYXRlTGluZWFyR3JhZGllbnQiLCJmb3JFYWNoIiwiYWRkQ29sb3JTdG9wIiwib2Zmc2V0IiwiZmlsbFN0eWxlIiwiZmlsbFJlY3QiLCJUSFJFRSIsIkVtaXR0ZXIiLCJMaWZlIiwiTWFzcyIsIlBvaW50Wm9uZSIsIlBvc2l0aW9uIiwiUmFkaWFsVmVsb2NpdHkiLCJSYWRpdXMiLCJSYXRlIiwiU3BhbiIsIlNwcml0ZVJlbmRlcmVyIiwiU3lzdGVtIiwiVmVjdG9yM0QiLCJTdHVkeSIsImluaXRPYmplY3QiLCJzeXN0ZW0iLCJlbWl0dGVyIiwiaW1hZ2VDb2xvciIsImJvZHkiLCJhcHBlbmRDaGlsZCIsInJhbmdlIiwicmFkaXVzIiwic2V0UmF0ZSIsInNldEluaXRpYWxpemVycyIsInNldEJlaGF2aW91cnMiLCJlbWl0IiwiYWRkRW1pdHRlciIsImFkZFJlbmRlcmVyIiwic3R1ZHkiXSwic291cmNlUm9vdCI6IiJ9\n//# sourceURL=webpack-internal:///690\n')}},__webpack_module_cache__={},deferred;function __webpack_require__(Q){var U=__webpack_module_cache__[Q];if(void 0!==U)return U.exports;var F=__webpack_module_cache__[Q]={id:Q,loaded:!1,exports:{}};return __webpack_modules__[Q](F,F.exports,__webpack_require__),F.loaded=!0,F.exports}__webpack_require__.m=__webpack_modules__,deferred=[],__webpack_require__.O=(Q,U,F,B)=>{if(!U){var s=1/0;for(c=0;c<deferred.length;c++){for(var[U,F,B]=deferred[c],I=!0,e=0;e<U.length;e++)(!1&B||s>=B)&&Object.keys(__webpack_require__.O).every((Q=>__webpack_require__.O[Q](U[e])))?U.splice(e--,1):(I=!1,B<s&&(s=B));if(I){deferred.splice(c--,1);var n=F();void 0!==n&&(Q=n)}}return Q}B=B||0;for(var c=deferred.length;c>0&&deferred[c-1][2]>B;c--)deferred[c]=deferred[c-1];deferred[c]=[U,F,B]},__webpack_require__.n=Q=>{var U=Q&&Q.__esModule?()=>Q.default:()=>Q;return __webpack_require__.d(U,{a:U}),U},__webpack_require__.d=(Q,U)=>{for(var F in U)__webpack_require__.o(U,F)&&!__webpack_require__.o(Q,F)&&Object.defineProperty(Q,F,{enumerable:!0,get:U[F]})},__webpack_require__.g=function(){if("object"==typeof globalThis)return globalThis;try{return this||new Function("return this")()}catch(Q){if("object"==typeof window)return window}}(),__webpack_require__.o=(Q,U)=>Object.prototype.hasOwnProperty.call(Q,U),__webpack_require__.r=Q=>{"undefined"!=typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(Q,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(Q,"__esModule",{value:!0})},__webpack_require__.nmd=Q=>(Q.paths=[],Q.children||(Q.children=[]),Q),(()=>{var Q={95:0};__webpack_require__.O.j=U=>0===Q[U];var U=(U,F)=>{var B,s,[I,e,n]=F,c=0;if(I.some((U=>0!==Q[U]))){for(B in e)__webpack_require__.o(e,B)&&(__webpack_require__.m[B]=e[B]);if(n)var i=n(__webpack_require__)}for(U&&U(F);c<I.length;c++)s=I[c],__webpack_require__.o(Q,s)&&Q[s]&&Q[s][0](),Q[s]=0;return __webpack_require__.O(i)},F=self.webpackChunkthree_nebula_behaviour_plugin=self.webpackChunkthree_nebula_behaviour_plugin||[];F.forEach(U.bind(null,0)),F.push=U.bind(null,F.push.bind(F))})();var __webpack_exports__=__webpack_require__.O(void 0,[736],(()=>__webpack_require__(690)));__webpack_exports__=__webpack_require__.O(__webpack_exports__)})();